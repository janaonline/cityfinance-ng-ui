<div class="container-fluid">
  <div
    class="container-cnt"
    style="justify-content: center"
    *ngIf="data?.length > 0"
  >
    <!-- <div class="row">
      <div
        *ngIf="sticky == true"
        class="col-sm-12"
        style="
          position: fixed;
          top: 0;
          background-color: white;
          z-index: 200;
          width: 100vw;
        "
      >
        <div
          class="px-4"
          style="
            background-color: #e5fff1;
            color: #0fa755;
            text-align: center;
            width: 22rem;
            margin: 0 auto;
            border-radius: 6px;
            font-size: 0.8rem;
            margin-top: 10px;
            margin-bottom: 10px;
          "
        >
          {{ stateName }} Data Availability - {{ percentValue?.toFixed(2) }}%
          (2020-2021)
        </div>
        <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
          <li
            *ngFor="let tab of data; let i = index"
            class="nav-item"
            role="presentation"
          >
            <button
              [ngClass]="{
                roundEdge: i == 0,
                roundEdge2: i == data.length - 1,
                active: i == 0
              }"
              class="nav-link pd"
              [id]="tab.name"
              data-bs-toggle="pill"
              [data-bs-target]="tab"
              type="button"
              role="tab"
              [aria-controls]="tab"
              (click)="changeTab($event)"
              value="{{ tab | json }}"
            >
              {{ tab.name }}
            </button>
          </li>
        </ul>
      </div>
    </div> -->
    <div class="row">
      <div class="col-sm-12">
        <div [ngClass]="{ stickyClass: sticky == true }">
          <div [ngSwitch]="DashBoardType">
            <div *ngSwitchCase="'state'">
              <div class="px-4 dataAvailabiltyTab">
                {{ stateName }} Data Availability -
                {{ percentValue?.toFixed(2) }}% (2020-2021)
              </div>
            </div>
          </div>
          <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
            <li
              *ngFor="let tab of data; let i = index"
              class="nav-item"
              role="presentation"
            >
              <button
                [ngClass]="{
                  roundEdge: i == 0,
                  roundEdge2: i == data.length - 1,
                  active: i == 0
                }"
                class="nav-link pd"
                [id]="tab.name"
                data-bs-toggle="pill"
                [data-bs-target]="tab"
                type="button"
                role="tab"
                [aria-controls]="tab"
                (click)="changeTab($event)"
                value="{{ tab | json }}"
              >
                {{ tab.name }}
              </button>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <div
    class="container-cnt tab-content"
    *ngIf="activeFilter.length > 0"
    id="pills-tabContent"
    style="padding: 0"
  >
    <div class="row">
      <div class="col-sm-12">
        <ul class="nav nav-pills2 mb-3" id="pills-tab" role="tablist">
          <li
            *ngFor="let tab of activeFilter; let i = index"
            class="nav-item pl-1"
            role="presentation"
          >
            <button
              class="nav-link2 pd2"
              [ngClass]="{ active: i == 0 }"
              [id]="tab.name"
              data-bs-toggle="pill"
              [data-bs-target]="tab"
              type="button"
              role="tab"
              [aria-controls]="tab"
              (click)="changeTab($event, true)"
              value="{{ tab | json }}"
            >
              {{ tab.name }}
            </button>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="row">
    <div [ngSwitch]="activeHeader">
      <div *ngSwitchCase="'Financial Indicators'">
        <div [ngSwitch]="DashBoardType">
          <div *ngSwitchCase="'city'">
            <app-filter-data
              [yearListForDropDown]="yearListForDropDown"
              [mySelectedYears]="mySelectedYears"
              [currentUlb]="cityId"
              [data]="innerActiveTab"
            ></app-filter-data>
          </div>
          <div *ngSwitchCase="'state'">
            <app-state-filter-data
              [data]="innerActiveTab"
            ></app-state-filter-data>
          </div>
        </div>
      </div>
      <div *ngSwitchCase="'Service Level Benchmark'">
        <app-slb-charts
          [year]="mySelectedYears[0]"
          [cityId]="cityId"
          [data]="innerActiveTab"
        ></app-slb-charts>
      </div>
      <div *ngSwitchCase="'Balance Sheet & Income Statement'">
        <app-balance-table
          [cityId]="cityId"
          [data]="innerActiveTab"
        ></app-balance-table>
      </div>
      <div *ngSwitchCase="'innerTab5'">
        <h1>Balance Sheet and tax</h1>
      </div>
      <div *ngSwitchCase="'Borrowing & Credit Rating'">
        <div *ngIf="innerActiveTab.name == 'Borrowing'">
          <app-accordion-to-table></app-accordion-to-table>
        </div>
        <div *ngIf="innerActiveTab.name == 'Credit Rating'">
          <!-- <div [ngSwitch]="DashBoardType">
            <div *ngSwitchCase="'city'"> -->
          <app-new-city-credit-rating></app-new-city-credit-rating>
          <!-- </div>
            
          </div> -->
        </div>
      </div>
      <div *ngSwitchCase="'Infrastructure & Borrowing'">
        <div [ngSwitch]="DashBoardType">
          <div *ngSwitchCase="'state'">
            <div *ngIf="innerActiveTab.name == 'Borrowing'">
              <app-accordion-to-table></app-accordion-to-table>
            </div>
            <div *ngIf="innerActiveTab.name == 'Credit Rating'">
              <app-new-credit-rating></app-new-credit-rating>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- </div> -->
  </div>

  <!-- Displaying Table on click of borrowing and credit tab -->
  <!-- <app-accordion-to-table ></app-accordion-to-table> -->
</div>
