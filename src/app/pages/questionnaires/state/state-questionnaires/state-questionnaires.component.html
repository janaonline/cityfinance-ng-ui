<div class="wrapper">
  <div class="loader-wrapper" *ngIf="showLoader">
    <app-pre-loader style="display: block; width: 100%;"></app-pre-loader>
    <app-pre-loader style="display: block; width: 100%;"></app-pre-loader>
    <app-pre-loader style="display: block; width: 100%;"></app-pre-loader>
    <app-pre-loader style="display: block; width: 100%;"></app-pre-loader>
  </div>

  <button
    *ngIf="userData.role !== USER_TYPE.STATE"
    class="back_button"
    (click)="window.history.back()"
  >
    Back
  </button>

  <p
    *ngIf="userData.role === USER_TYPE.STATE"
    style="padding: 0 24px; font-size: 1vw;"
  >
    <i><strong>Welcome:</strong> {{ userData.name }}, {{ stateName }} </i>
  </p>

  <p
    *ngIf="userData.role !== USER_TYPE.STATE"
    style="padding: 0 24px; font-size: 1vw;"
  >
    <i><strong>STATE:</strong> {{ stateName }}</i>
  </p>

  <mat-horizontal-stepper
    id="stepper"
    *ngIf="!showLoader"
    [ngClass]="{ 'block-steeper-top-navigation': !userHasAlreadyFilledForm }"
  >
    <mat-step
      label="Introduction"
      state="phone"
      matStepperIcon="done"
      *ngIf="canSeeIntroduction"
    >
      <app-introduction
        (completed)="setIntroductionCompleted($event)"
      ></app-introduction>
    </mat-step>
    <mat-step label="Property Tax">
      <app-property-tax
        [data]="propertyTaxData"
        [editable]="editable"
        [shouldGoToPrevious]="canSeeIntroduction"
        (answer)="onCompletingPropertyTax($event)"
        (previous)="stepper.previous()"
      ></app-property-tax>
    </mat-step>
    <mat-step label="User Charges">
      <app-user-charges
        [shouldGoToNext]="canGoToDonePage"
        [data]="UserChargesData"
        [editable]="editable"
        (previous)="stepper.previous()"
        (answer)="onCompletingUserCharges($event)"
      ></app-user-charges>
    </mat-step>
    <mat-step label="Upload Documents">
      <app-document-submit
        [documents]="documentData"
        (outputValues)="onFileUploaded($event)"
        (previous)="stepper.previous()"
      ></app-document-submit>
    </mat-step>
    <mat-step label="Submit" *ngIf="canGoToDonePage">
      <app-completed (showOld)="showPropertyTax()"></app-completed>
    </mat-step>
  </mat-horizontal-stepper>
</div>
