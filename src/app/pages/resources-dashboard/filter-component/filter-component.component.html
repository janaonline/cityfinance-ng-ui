<button (click)="onFilterChange()" type="button">
  <span class="me-1 d-none d-lg-inline">Show Form</span>
</button>
<div class="p-3 border border-1 border-secondary-subtle bg-light rounded">
  <h5 class="text-center fw-bold mb-4">Filter By:</h5>
  <form [formGroup]="filterForm1" class="row justify-content-evenly gap-2">
    <mat-form-field class="col-auto p-0" appearance="outline">
      <mat-label>State Name</mat-label>
      <mat-select formControlName="state">
        <mat-option value="''">All States</mat-option>
        <mat-option
          (click)="onFilterChange()"
          *ngFor="let state of statesList"
          [value]="state._id"
        >
          {{ state.name }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field class="col-auto p-0" appearance="outline">
      <mat-label>ULB Name</mat-label>
      <input
        type="text"
        placeholder="Search a ULB"
        aria-label="ulb name"
        matInput
        formControlName="ulbCtrl"
        [matAutocomplete]="auto"
      />
      <mat-autocomplete
        autoActiveFirstOption
        #auto="matAutocomplete"
        [displayWith]="displayUlbName"
      >
        <mat-option
          (click)="onFilterChange()"
          *ngFor="let ulb of filteredUlbs"
          [value]="ulb"
        >
          {{ ulb.name }}
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>

    <mat-form-field
      *ngIf="filterInputData?.comp == 'dataSets'"
      class="col-auto p-0"
      appearance="outline"
    >
      <mat-label>File Type</mat-label>
      <mat-select formControlName="contentType">
        <mat-option
          (click)="onFilterChange()"
          *ngFor="let type of contentType"
          [value]="type"
        >
          {{ type }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field class="col-auto p-0" appearance="outline">
      <mat-label>Financial Year</mat-label>
      <mat-select formControlName="year">
        <mat-option
          *ngIf="filterInputData?.comp != 'dataSets'"
          (click)="onFilterChange()"
          [value]="''"
          >All Years</mat-option
        >
        <mat-option
          (click)="onFilterChange()"
          *ngFor="let year of yearsList"
          [value]="year"
        >
          {{ year }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <div class="col-auto p-0 mt-1">
      <button
        (click)="clearFilter()"
        type="button"
        class="col custom-button"
        title="Clear selection(s)"
      >
        <span class="d-none d-lg-inline me-1">Clear All</span>
        <mat-icon>highlight_off</mat-icon>
      </button>
    </div>

    <div class="col-auto p-0 mt-1" *ngIf="downloadValue">
      <button
        (click)="initiateDownload()"
        type="button"
        class="custom-button"
        title="Download reports"
      >
        <span class="d-none d-lg-inline me-1">Download</span>
        <span><mat-icon>save_alt</mat-icon></span>
      </button>
    </div>
  </form>
</div>
