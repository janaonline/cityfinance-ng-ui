<!-- <div class="tabs">
    <app-resources-tabs [data]="tabData">
    </app-resources-tabs>
</div> -->
<div class="row" *ngIf="dataReceived">
  <p *ngIf="searchedValue != '' && searchedValue">
    <b>{{ learningCount }}</b> Search results for ‘{{ searchedValue }}’ in
    Datasets
  </p>
</div>
<div class="col-sm-12 mb-3" *ngIf="noDataa">
  <img class="rounded mx-auto d-block" src="assets/images/sad.svg" />
  <p class="noData">
    Sorry we couldn’t find any matches for ‘{{ searchedValue }}’. Please try
    searching with another term.
  </p>
</div>
<!-- <div class="container container-cnt" *ngIf="dataReceived">
    <div class="row" style="margin: 0 auto">
        <div class="col-sm-12 mb-3">
            <app-resources-tabs [data]="tabData"> </app-resources-tabs>
        </div>
    </div>
</div> -->

<div class="filter-d mt-3 mb-3" *ngIf="dataReceived" id="top">
  <app-filter-component (filterFormData)="filterData($event)" (isDownloadable)="download($event)"
    (isStateBundleRequestedOutput)="isStateBundleRequestedOutput($event)" [filterInputData]="filterComponent"
    [downloadValue]="selectedUsersList.length" [tableLen]="balData.length"></app-filter-component>
</div>

<!-- Upsell / Info banner -->
<!-- <mat-card *ngIf="showStateBundleDiv" class="info-banner">
  <mat-card-content class="">
    <div class="mb-3">
      <div class="fw-bold mb-1">UPGRADE TO STATE BUNDLE</div>
      <div class="text-muted">
        Get comprehensive data for all cities of a State. Perfect for complete
        state analysis.
      </div>
    </div>
    <div class="d-flex gap-2">
      <button class="btn btn-outline-primary" (click)="createStateBundle()">
        Create state bundle
      </button>
      <button class="btn btn-outline-primary" (click)="dismissStateBundle()">
        Dismiss
      </button>
    </div>
  </mat-card-content>
</mat-card> -->

<!-- {{ dataReceived }} {{ !isStateBundleRequested }} -->
<div class="row" *ngIf="dataReceived && !isStateBundleRequested">
  <div class="d-name">You can Download Upto 5 files</div>
  <div class="col-sm-12 col-12 mb-3">
    <div class="cd-r">
      <div class="card-body cd-h">
        <div class="row">
          <div class="col-sm-1 col-1">
            <!-- <p>{{isChecked}}</p> -->
            <mat-checkbox [(ngModel)]="isChecked" (change)="masterToggle($event)">
            </mat-checkbox>
          </div>
          <div class="col-sm-8 col-7">
            <span> Document Name</span>
          </div>
          <div class="col-sm-3 col-4">
            <span>Updated on</span>
          </div>
        </div>
      </div>

      <!-- Info msg if Digitized Excel is selected -->
      <div class="alert alert-info ocr-alert" role="alert" *ngIf="type==this.DIGITIZED_EXCEL_TYPE">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-stars"
          viewBox="0 0 16 16">
          <path
            d="M7.657 6.247c.11-.33.576-.33.686 0l.645 1.937a2.89 2.89 0 0 0 1.829 1.828l1.936.645c.33.11.33.576 0 .686l-1.937.645a2.89 2.89 0 0 0-1.828 1.829l-.645 1.936a.361.361 0 0 1-.686 0l-.645-1.937a2.89 2.89 0 0 0-1.828-1.828l-1.937-.645a.361.361 0 0 1 0-.686l1.937-.645a2.89 2.89 0 0 0 1.828-1.828zM3.794 1.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387A1.73 1.73 0 0 0 4.593 5.69l-.387 1.162a.217.217 0 0 1-.412 0L3.407 5.69A1.73 1.73 0 0 0 2.31 4.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387A1.73 1.73 0 0 0 3.407 2.31zM10.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.16 1.16 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.16 1.16 0 0 0-.732-.732L9.1 2.137a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732z" />
        </svg>
        <p class="m-0 p-0">
          These documents have been digitized using OCR and AI methods to make them machine-readable and easier for
          analysis.<br>We make every effort to ensure accuray, but we encourage uses to double-check numbers.
        </p>
      </div>

      <div class="empty" *ngIf="balData.length == 0">No data available for the selected filter. Please select different
        option(s) to display result.</div>

      <div *ngIf="balData.length > 0">
        <ng-container *ngFor="let item of balData; let i = index">
          <div class="card-body cd-repeat" *ngIf="item.fileName">
            <!-- <p>{{item | json}}</p> -->
            <div class="row align-items-md-center pointer" (click)="getReport(item)">
              <div class="col-sm-1 col-1">
                <mat-checkbox matTooltip="Select to download" (click)="$event.stopPropagation()"
                  (change)="toggleRowSelection($event, item, i)" [checked]="item.isSelected"
                  [disabled]="item.isDisabled">
                </mat-checkbox>
              </div>
              <div class="col-sm-8 d-name col-8 cursor-pointer" matTooltip="Click to View">
                <div class="row align-items-center">
                  <div class="col-auto">
                    <span *ngIf="item?.type == 'pdf'" class="text-danger">
                      <img src="./assets/pdf.svg" alt="PDF Icon" class="icon-size" />
                    </span>
                    <span *ngIf="item?.type == 'excel'" class="text-success">
                      <img src="./assets/excel.svg" alt="Excel Icon" class="icon-size" />
                    </span>
                  </div>
                  <div class="col">
                    <span>{{ item?.fileName }}</span>
                  </div>
                </div>
              </div>
              <div class="col-sm-3 d-date col-3">
                <!-- {{i+1}} -->
                <span>{{ item?.modifiedAt | date : "mediumDate" }}</span>
              </div>
            </div>
          </div>
        </ng-container>
      </div>
    </div>
  </div>
  <div class="col-sm-12 text-center mb-3" *ngIf="loadMoreData">
    <button class="btn lmBtn" (click)="getData()">
      <span class="material-icons" style="vertical-align: middle">
        refresh
      </span>
      <span class="ms-1">Load More</span>
    </button>
  </div>
  <!-- <div class="backArrow" *ngIf="loadMoreData" [ngClass]="{ 'blinker': isBlinking === true }">
        <span class="p-2 lmBtn" role="button" (click)="getToTop()">
            <mat-icon style="vertical-align: middle;">arrow_upward</mat-icon>
        </span>
    </div> -->
</div>

<!-- <div
  *ngIf="isStateBundleRequested && !disableForStateBundle.includes(this.type)"
  class="mb-5"
  style="font-family: Montserrat"
> -->
<!-- Selection summary -->
<!-- <div class="rounded p-3 px-4 mb-4 bg-success-subtle border border-success">
    <div class="text-center fw-bold">114 files selected</div>
    <div class="text-center text-muted small">Estimated size: 38&nbsp;MB</div>
    <div class="text-center text-muted small fw-bold mt-2">
      You’ll receive your dataset by email in about 20 minutes.
    </div>
  </div> -->

<!-- Primary CTA -->
<!-- <div class="text-center">
    <button
      class="btn btn-outline-primary px-4 py-2"
      (click)="sendStateBundle()"
    >
      Email me the files
    </button>
  </div>
</div> -->
<!--
<div class="row">
    <div class="col-sm-12">
        <router-outlet></router-outlet>
    </div>
</div> -->